<!DOCTYPE html>
<html>
<head>
	<meta http-equiv='X-UA-Compatible' content='IE=edge' />
	<meta http-equiv='content-type' content='text/html; charset=utf-8'/>

	<style type='text/css'>
		body, div, p, table {
			font-size:10pt;
			font-family:Verdana;
		}

		img{border:none}
		
	</style>
	<!--[if lt IE 9]><script language="javascript" type="text/javascript" src="__attach/__thumb/__js/excanvas.min.js"></script><![endif]-->
<script language="javascript" type="text/javascript" src="__attach/__thumb/__js/jquery.min.js"></script>
<script language="javascript" type="text/javascript" src="__attach/__thumb/__js/highcharts.js"></script>
<script>
$(function () { $('#graph-0').highcharts({"yAxis": {"title": {"text": null}, "gridLineWidth": 1}, "series": [{"dashStyle": "solid", "name": "\u041b\u0438\u043d\u0438\u044f 1", "color": "#0051FF", "states": {"hover": {"enabled": false}}, "animation": false, "marker": {"symbol": "circle", "enabled": false}, "data": [[1.0, 10.0], [2.0, 11.0], [3.0, 13.0], [4.0, 15.0], [5.0, 16.0], [6.0, 18.0], [7.0, 20.0], [8.0, 20.0], [9.0, 20.0], [10.0, 20.0]]}, {"dashStyle": "solid", "name": "\u041b\u0438\u043d\u0438\u044f 2", "color": "#FF0000", "states": {"hover": {"enabled": false}}, "animation": false, "marker": {"symbol": "square", "enabled": false}, "data": [[1.0, 20.0], [2.0, 22.0], [3.0, 24.0], [4.0, 25.0], [5.0, 26.0], [6.0, 27.0], [7.0, 30.0], [8.0, 30.0], [9.0, 30.0], [10.0, 30.0]]}], "title": {"text": null}, "chart": {"animation": false, "plotBorderWidth": 1}, "tooltip": {"enabled": false}, "credits": {"enabled": false}, "plotOptions": {}, "xAxis": {"title": {"text": null}, "gridLineWidth": 1}, "legend": {"symbolWidth": 60, "enabled": false}}); });
</script>
<script>
$(function () { $('#graph-1').highcharts({"yAxis": {"title": {"text": null}, "gridLineWidth": 1}, "series": [{"dashStyle": "solid", "name": "\u041b\u0438\u043d\u0438\u044f 1", "color": "#0051FF", "states": {"hover": {"enabled": false}}, "animation": false, "marker": {"symbol": "circle", "enabled": false}, "data": [[1.0, 10.0], [2.0, 11.0], [3.0, 13.0], [4.0, 15.0], [5.0, 16.0], [6.0, 18.0], [7.0, 20.0], [8.0, 20.0], [9.0, 20.0], [10.0, 20.0]]}], "title": {"text": null}, "chart": {"animation": false, "plotBorderWidth": 1}, "tooltip": {"enabled": false}, "credits": {"enabled": false}, "plotOptions": {}, "xAxis": {"title": {"text": null}, "gridLineWidth": 1}, "legend": {"symbolWidth": 60, "enabled": false}}); });
</script>
<script>
$(function () { $('#graph-2').highcharts({"yAxis": {"title": {"text": null}, "gridLineWidth": 1}, "series": [{"dashStyle": "solid", "name": "\u041b\u0438\u043d\u0438\u044f 1", "color": "#0051FF", "states": {"hover": {"enabled": false}}, "animation": false, "marker": {"symbol": "circle", "enabled": false}, "data": [[1.0, 10.0], [2.0, 11.0], [3.0, 13.0], [4.0, 15.0], [5.0, 16.0], [6.0, 18.0], [7.0, 20.0], [8.0, 20.0], [9.0, 20.0], [10.0, 20.0]]}], "title": {"text": null}, "chart": {"animation": false, "plotBorderWidth": 1}, "tooltip": {"enabled": false}, "credits": {"enabled": false}, "plotOptions": {}, "xAxis": {"title": {"text": null}, "gridLineWidth": 1}, "legend": {"symbolWidth": 60, "enabled": false}}); });
</script>
<script>
$(function () { $('#graph-3').highcharts({"yAxis": {"title": {"text": null}, "gridLineWidth": 1}, "series": [{"dashStyle": "solid", "name": "\u041b\u0438\u043d\u0438\u044f 1", "color": "#0051FF", "states": {"hover": {"enabled": false}}, "animation": false, "marker": {"symbol": "circle", "enabled": false}, "data": [[1.0, 10.0], [2.0, 11.0], [3.0, 13.0], [4.0, 15.0], [5.0, 16.0], [6.0, 18.0], [7.0, 20.0], [8.0, 20.0], [9.0, 20.0], [10.0, 20.0]]}], "title": {"text": null}, "chart": {"animation": false, "plotBorderWidth": 1}, "tooltip": {"enabled": false}, "credits": {"enabled": false}, "plotOptions": {}, "xAxis": {"title": {"text": null}, "gridLineWidth": 1}, "legend": {"symbolWidth": 60, "enabled": false}}); });
</script>
<script>
$(function () { $('#graph-4').highcharts({"yAxis": {"title": {"text": null}, "gridLineWidth": 1}, "series": [{"dashStyle": "solid", "name": "\u041b\u0438\u043d\u0438\u044f 1", "color": "#0051FF", "states": {"hover": {"enabled": false}}, "animation": false, "marker": {"symbol": "circle", "enabled": false}, "data": [[4.0, 15.0], [5.0, 16.0], [6.0, 18.0], [7.0, 20.0], [8.0, 20.0], [9.0, 20.0], [10.0, 20.0]]}], "title": {"text": null}, "chart": {"animation": false, "plotBorderWidth": 1}, "tooltip": {"enabled": false}, "credits": {"enabled": false}, "plotOptions": {}, "xAxis": {"title": {"text": null}, "gridLineWidth": 1}, "legend": {"symbolWidth": 60, "enabled": false}}); });
</script>
<script>
$(function () { $('#graph-5').highcharts({"yAxis": {"title": {"text": null}, "gridLineWidth": 1}, "series": [{"dashStyle": "solid", "name": "\u041b\u0438\u043d\u0438\u044f 1", "color": "#0051FF", "states": {"hover": {"enabled": false}}, "animation": false, "marker": {"symbol": "circle", "enabled": false}, "data": [[1388534400000.0, 0.0], [1391212800000.0, 2.0], [1393632000000.0, 10.0], [1396310400000.0, 15.0], [1398902400000.0, 13.0], [1401580800000.0, 15.0], [1404172800000.0, 16.0], [1406851200000.0, 20.0], [1409529600000.0, 20.0], [1412121600000.0, 18.0], [1414800000000.0, 22.0], [1417392000000.0, 24.0]]}], "title": {"text": null}, "chart": {"animation": false, "plotBorderWidth": 1}, "tooltip": {"enabled": false}, "credits": {"enabled": false}, "plotOptions": {}, "xAxis": {"labels": {"format": "{value:%d.%m.%Y}"}, "title": {"text": null}, "type": "datetime", "gridLineWidth": 1}, "legend": {"symbolWidth": 60, "enabled": false}}); });
</script>
</head>

<body>

<h2>Оглавление раздела</h2>
<ul>
<li><a href="#data">Установка источника данных</a></li>
<li><a href="#colsep">Параметр <i>curve.data.colsep</i></a></li>
<li><a href="#skiprows">Параметр <i>curve.data.skiprows</i></a></li>
<li><a href="#formatcol">Параметр <i>curve.data.formatcol</i></a></li>
</ul>
<h2><a id="data"></a> Установка источника данных</h2>
<br>
Данные могут браться из двух источников. По умолчанию данные берутся из тела команды (то, что находится между (:plot:) и (:plotend:)). Однако, данные могут также читаться из прикрепленных файлов, для этого используется параметр <a href="page://__0e8277e9-e11f-46fd-a5b2-b67194cddd47/#data"><i>curve.data</i></a>. <br>
<br>

<pre>(:plot
curve.data=&quot;Attach:example_5.txt&quot;
curve.ycol=2

curve2.data=&quot;Attach:example_5.txt&quot;
curve2.ycol=3
:)
(:plotend:)</pre>
<br>
<br>
<br>
<div id="graph-0" style="width:700px; height:300px;"></div><br>
<br>
Для разных кривых данные могут браться из разных источников - или из разных прикрепленных файлов, или для одних кривых данные могут браться из тела команды, для других читаться из файла.<br>
<br>
Дальнейшие параметры данных устанавливаются индивидуально для каждой <a href="page://__0e8277e9-e11f-46fd-a5b2-b67194cddd47">кривой</a>, т.е. используется запись вида <i>curve.data.имя_параметра</i>.<br>
<hr>
<br>
<h2><a id="colsep"></a> Параметр <i>curve.data.colsep</i></h2>
<br>
По умолчанию элементы каждой строки данных разделяются между собой любым количеством пробелов или символов табуляции. Вы можете изменить это поведение, задав другой разделитель с помощью параметра <i>curve.data.colsep</i>. Этот параметр принимает <a href="https://docs.python.org/2/library/re.html">регулярное выражение</a>. Значение по умолчанию этого параметра "\s+".<br>
<br>
Следующий пример показывает, как сделать, чтобы элементы строки разделялись с помощью запятых и, возможно, пробелов.<br>
<br>

<pre>(:plot
curve.data.colsep=&quot;,\s*&quot;
:)
1, 10, 20, 30, 40
2, 11, 22, 31, 41
3, 13, 24, 33, 42
4, 15, 25, 35, 43
5, 16, 26, 36, 44
6, 18, 27, 37, 45
7, 20, 30, 38, 46
8, 20, 30, 38, 46
9, 20, 30, 38, 46
10, 20, 30, 38, 46
(:plotend:)</pre>
<br>
<br>
<br>
<div id="graph-1" style="width:700px; height:300px;"></div><br>
<hr>
<br>
Учитывая особенность чтения данных, что пробелы всегда отбрасываются, предыдущий пример можно было бы сделать проще:<br>
<br>

<pre>(:plot
curve.data.colsep=&quot;,&quot;
:)
1, 10, 20, 30, 40
2, 11, 22, 31, 41
3, 13, 24, 33, 42
4, 15, 25, 35, 43
5, 16, 26, 36, 44
6, 18, 27, 37, 45
7, 20, 30, 38, 46
8, 20, 30, 38, 46
9, 20, 30, 38, 46
10, 20, 30, 38, 46
(:plotend:)</pre>
<br>
<br>
<br>
<div id="graph-2" style="width:700px; height:300px;"></div><br>
<hr>
<br>
<h2><a id="skiprows"></a> Параметр <i>curve.data.skiprows</i></h2>
<br>
Иногда в начале файла с текстовыми данными пишут заголовок, который может описывать представленные данные. Для корректной работы плагина DataGraph либо нужно удалить эти строки, либо воспользоваться параметром <i>curve.data.skiprows</i>, который указывает, сколько строк нужно проигнорировать при чтении данных. Этот параметр работает как для данных, загружаемых из файла, так и для данных из тела команды (:plot:).<br>
<br>

<pre>(:plot
curve.data.skiprows = 3
:)
Этот текст
не нужен для
построения графиков
1    10    20    30    40
2    11    22    31    41
3    13    24    33    42
4    15    25    35    43
5    16    26    36    44
6    18    27    37    45
7    20    30    38    46
8    20    30    38    46
9    20    30    38    46
10   20    30    38    46
(:plotend:)</pre>
<br>
<br>
<br>
<div id="graph-3" style="width:700px; height:300px;"></div><br>
<hr>
<br>
Также этот параметр можно использовать для того, чтобы некоторые начальные значения на графике.<br>
<br>
 
<pre>(:plot
curve.data.skiprows = 3
:)
1    10    20    30    40
2    11    22    31    41
3    13    24    33    42
4    15    25    35    43
5    16    26    36    44
6    18    27    37    45
7    20    30    38    46
8    20    30    38    46
9    20    30    38    46
10   20    30    38    46
(:plotend:)</pre>
<br>
<br>
<div id="graph-4" style="width:700px; height:300px;"></div><br>
<br>
<hr>
<h2><a id="formatcol"></a> Параметр <i>curve.data.formatcol</i></h2>
<br>
Во всех приведенных выше примерах в качестве данных использовались числа с плавающей точкой, однако плагин DataGraph может строить графики и по календарным данным. Для этого с помощью параметра <i>curve.data.formatcol</i> нужно указать, в каком формате записаны календарные данные. Параметр <i>curve.data.formatcol[n]</i> в качестве значения принимает строку в формате, используемом во многих языках программирования для форматирования дат. Этот формат состоит из символов, следующих после символа "%". Значения этих символов, показаны в следующей таблице:<br>
<br>
<br>
<table border=1>
<tr>
<td align="center"><b>Символ</b></td>
<td align="center"><b>Значение</b></td>
<td align="center"><b>Пример</b></td>
</tr>
<tr>
<td align="left">%a</td>
<td align="left">День недели сокращенно (используется локализация)</td>
<td align="left">Пн., Вт.,..., Вс. (для ru_RU),<br>
Sun, Mon, ..., Sat (для en_US)</td>
</tr>
<tr>
<td align="left">%A</td>
<td align="left">День недели полностью (используется локализация)</td>
<td align="left">Понедельник, Вторник, ..., Воскресенье (для ru_RU),<br>
Sunday, Monday, ..., Saturday (для en_US)</td>
</tr>
<tr>
<td align="left">%w</td>
<td align="left">Номер для недели от 0 (воскресенье) до 6 (суббота)</td>
<td align="left">0, 1,... 6</td>
</tr>
<tr>
<td align="left">%d</td>
<td align="left">Двухзначное число месяца</td>
<td align="left">01, 02,... 31</td>
</tr>
<tr>
<td align="left">%b</td>
<td align="left">Название месяца сокращенно (используется локализация)</td>
<td align="left">Янв., Фев., ..., Дек. (для ru_RU),<br>
Jan, Feb, ..., Dec (для en_US)</td>
</tr>
<tr>
<td align="left">%B</td>
<td align="left">Название месяца полностью (используется локализация)</td>
<td align="left">Январь, Февраль,..., Декабрь (для ru_RU),<br>
January, February, ..., December (для en_US)</td>
</tr>
<tr>
<td align="left">%m</td>
<td align="left">Двухзначный номер месяца</td>
<td align="left">01, 02, ..., 12</td>
</tr>
<tr>
<td align="left">%y</td>
<td align="left">Последние две цифры года</td>
<td align="left">00, 01, 99</td>
</tr>
<tr>
<td align="left">%Y</td>
<td align="left">Год полностью</td>
<td align="left">1917, 2000, 2015</td>
</tr>
<tr>
<td align="left">%H</td>
<td align="left">Двухзначное значение часа в 24-часовом формате</td>
<td align="left">00, 01, ..., 23</td>
</tr>
<tr>
<td align="left">%I</td>
<td align="left">Двухзначное значение часа в 12-часовом формате</td>
<td align="left">00, 01, ..., 12</td>
</tr>
<tr>
<td align="left">%p</td>
<td align="left">Сокращенное обозначение "до полудня" / "после полудня" (используется локализация)</td>
<td align="left">AM, PM (для en_US)</td>
</tr>
<tr>
<td align="left">%M</td>
<td align="left">Двухзначное количество минут</td>
<td align="left">00, 01, ..., 59</td>
</tr>
<tr>
<td align="left">%S</td>
<td align="left">Двухзначное количество секунд</td>
<td align="left">00, 01, ..., 59</td>
</tr>
<tr>
<td align="left">%f</td>
<td align="left">Шестизначное количество микросекунд</td>
<td align="left">000000, 000001, ..., 999999</td>
</tr>
<tr>
<td align="left">%j</td>
<td align="left">Трехзначный номер дня в году</td>
<td align="left">001, 002, ..., 366</td>
</tr>
<tr>
<td align="left">%U</td>
<td align="left">Номер недели в году</td>
<td align="left">00, 01, ..., 53</td>
</tr>
<tr>
<td align="left">%c</td>
<td align="left">Формат представления даты и времени в соответствии с локализацией</td>
<td align="left">Вт. 06 янв. 2015 10:23:25 (для ru_RU),<br>
Tue Aug 16 21:30:00 1988 (для en_US)</td>
</tr>
<tr>
<td align="left">%x</td>
<td align="left">Формат представления даты в соответствии с локализацией</td>
<td align="left">06.01.2015 (для ru_RU),<br>
08/16/1988 (для en_US)</td>
</tr>
<tr>
<td align="left">%X</td>
<td align="left">Формат представления времени в соответствии с локализацией</td>
<td align="left">10:26:16 (для ru_RU и en_US)</td>
</tr>
</table><br>
Для каждого столбца может быть установлен свой формат данных, поэтому параметр используется в виде <i>curve.data.formatcol1</i>, <i>curve.data.formatcol2</i> и т.д.<br>
<br>
<blockquote>Чтобы использовать календарный тип данных, также необходимо для оси, по которой будут откладываться, календарные данные установить параметру <a href="page://__24ff47cd-161e-4829-a4ca-affb6edd4067/#type"><i>type</i></a> значение "datetime".</blockquote><br>
<br>

<pre>(:plot
curve.data.formatcol1=&quot;%d.%m.%Y&quot;
x.type=&quot;datetime&quot;
:)
01.01.2014    0
01.02.2014    2
01.03.2014    10
01.04.2014    15
01.05.2014    13
01.06.2014    15
01.07.2014    16
01.08.2014    20
01.09.2014    20
01.10.2014    18
01.11.2014    22
01.12.2014    24
(:plotend:)</pre>
<br>
<br>
<div id="graph-5" style="width:700px; height:300px;"></div><br>
<br>

</body>
</html>
